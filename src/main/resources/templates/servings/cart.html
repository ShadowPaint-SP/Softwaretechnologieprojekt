<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout.html(title=#{title.cart})}">

<head></head>

<body>
    <main layout:fragment="input">
        <!-- plot cart-->
        <div class="overflow-x-auto container mx-auto rounded-box mt-14 shadow-md"
            th:unless="${plotReservations.isEmpty()}">
            <table class="table table-zebra">
                <thead class="bg-secondary">
                    <tr>
                        <th class="w-[5%]"></th>
                        <th class="w-[20%]">Titel</th>
                        <th class="w-[20%]">Ankunft</th>
                        <th class="w-[20%]">Abfahrt</th>
                        <th>Ãœbernachtungen</th>
                        <th class="w-[10%]">Preis</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="item, iStat : ${plotReservations}" class="hover">
                        <th th:text="${iStat.count}">1</th>
                        <td th:text="${item.product.name}">place on the lake</td>
                        <td th:text="${#temporals.format(item.begin, 'dd.MM.yyyy | 12:00')}">arrival</td>
                        <td th:text="${#temporals.format(item.end.plusDays(1), 'dd.MM.yyyy | 11:00')}">daparture</td>
                        <td th:text="${item.duration}">one day</td>
                        <td>
                            <div th:if="${item.hasDiscount()}">
                                <s th:text="${item.preDiscountPrice}"></s> &nbsp;
                                <b th:text="${item.price}"></b>
                            </div>
                            <div th:unless="${item.hasDiscount()}">
                                <text th:text="${item.price}"></text>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- sportsitem cart-->
        <div class="overflow-x-auto container mx-auto rounded-box mt-14 shadow-md"
            th:unless="${sportsReservations.isEmpty()}">
            <table class="table table-zebra">
                <thead class="bg-secondary">
                    <tr>
                        <th class="w-[5%]"></th>
                        <th class="w-[20%]">Titel</th>
                        <th class="w-[20%]">Ausleihe</th>
                        <th class="w-[20%]">Abgabe</th>
                        <th>Stunden</th>
                        <th class="w-[10%]">Preis</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="item, iStat : ${sportsReservations}" class="hover">
                        <th th:text="${iStat.count}">1</th>
                        <td th:text="${item.product.name}">football</td>
                        <td th:text="${#temporals.format(item.begin, 'dd.MM.yyyy | HH:mm')}">begin</td>
                        <td th:text="${#temporals.format(item.end, 'dd.MM.yyyy | HH:mm')}">end</td>
                        <td th:text="${item.duration}">1</td>
                        <td th:text="${item.price}">EUR 1</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="card w-96 bg-base-300 text-neutral-content container mx-auto mt-10 shadow-lg">
            <div class="card-body items-center text-center">
                <h2 class="card-title text-neutral font-bold" th:text="#{cart.total}">Your Total</h2>
                <div class="badge badge-lg badge-secondary">
                    <div th:if="${totalHasDiscount}">
                        <s th:text="${totalPreDiscountPrice}"></s> &nbsp;
                        <b th:text="${totalPrice}"></b>
                    </div>
                    <div th:unless="${totalHasDiscount}">
                        <text th:text="${totalPrice}">987,654</text>
                    </div>
                </div>
                <div class="card-actions justify-end">
                    <form method="post" th:action="@{/checkout}">
                        <button type="submit" class="btn btn-primary" th:text="#{cart.buy}">Buy</button>
                    </form>
                </div>
            </div>
        </div>

    </main>
</body>

</html>
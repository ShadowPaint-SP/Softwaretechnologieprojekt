<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout.html(title=#{dashboard.title})}">

<head></head>

<body>
    <main layout:fragment="input">
        <form th:action="@{/addSportItem}" method="post">
            <div
                class="grid sm:grid-cols-3 grid-flow-row gap-3 container rounded-box bg-base-300 mx-auto justify-center p-4 mt-20">
                <div>
                    <label class="label-text">Name: </label>
                    <input type="text" placeholder="Type here" class="input input-sm w-full" id="name" name="name"
                        required />
                </div>
                <div>
                    <label class="label-text">Price: </label>
                    <input type="number" placeholder="Type here" class="input input-sm w-full" id="price" name="price"
                        step="0.1" min="1" required />
                </div>
                <div>
                    <label class="label-text">Deposit: </label>
                    <input type="number" placeholder="Type here" class="input input-sm w-full" id="deposit"
                        name="deposit" min="1" required />
                </div>
                <div>
                    <label class="label-text">Category: </label>
                    <input type="text" placeholder="Type here" class="input input-sm w-full" id="category"
                        name="category" required />
                </div>
                <div>
                    <label class="label-text">Amount: </label>
                    <input type="number" placeholder="Type here" class="input input-sm w-full" id="amount" name="amount"
                        min="1" required />
                </div>
                <div class="flex justify-around">
                    <input type="hidden" id="itemId" name="itemId" th:value="${item != null ? item.id : ''}" />
                    <button class="btn btn-primary" type="submit">Add New SportItem</button>
                </div>
            </div>
        </form>


        <div class="overflow-x-auto container mx-auto mt-14 rounded-box">
            <table class="table table-zebra">
                <thead class="bg-secondary font-bold">
                    <tr>
                        <th th:text="#{sport.name}"></th>
                        <th th:text="#{sport.rental_fee}" class="w-[10%]"></th>
                        <th th:text="#{sport.deposit}" class="w-[10%]"></th>
                        <th th:text="#{sport.amount}" class="w-[30%]"></th>
                        <th th:text="#{sport.delete}" class="w-[5%]"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="item, iStat : ${items}" class="hover">
                        <td th:text="${item.name}" class="font-bold"></td>
                        <td th:text="${item.price}"></td>
                        <td th:text="${item.deposit}"></td>
                        <td>
                            <form th:action="@{/changeSportItemAmount}" method="post">
                                <input type="text" id="nameItem" name="nameItem" th:value="${item.name}" hidden />
                                <input type="number" id="amountItem" name="amountItem" min="0" th:value="${item.amount}"
                                    class="input input-sm" required />

                                <input type="hidden" id="equip_id" name="equip_id"
                                    th:value="${item != null ? item.id : ''}" />

                                <button class="btn btn-primary btn-sm" type="submit" th:text="#{sport.change}">Change
                                    Amount</button>
                            </form>
                        </td>
                        <td>
                            <form th:action="@{/deleteSportItem}" method="post">
                                <input type="text" id="itemName" name="itemName" th:value="${item.name}" hidden />
                                <button class="btn btn-error btn-sm" type="submit" th:text="#{sport.delete}">Delete
                                    SportItem</button>
                            </form>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </main>
</body>

</html>
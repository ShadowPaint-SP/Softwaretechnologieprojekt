<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout.html(title=#{title.reservation})}">

<head></head>

<body>
	<main layout:fragment="input">
		<div th:fragment="orders(reservations)" class="overflow-x-auto container mx-auto mt-14 rounded-box shadow-lg">
			<table class="table table-zebra">
				<thead class="bg-secondary">
					<tr>
						<th></th>
						<th th:text="#{reservation.status}"></th>
						<th th:text="#{reservation.electricity}"></th>
						<th th:text="#{reservation.water}"></th>
						<th th:text="#{user.firstName}"></th>
						<th th:text="#{user.lastName}"></th>
						<th th:text="#{terms.plot}"></th>
						<th th:text="#{reservation.plot.begin}"></th>
						<th th:text="#{reservation.plot.end}"></th>
						<th th:text="#{reservation.price}"></th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="reservation, iStat : ${reservations}" class="hover">
						<th th:text="${iStat.count}"></th>
						<form method="post" action="/management/seasonalreservation/updateReservation">
							<input type="hidden" name="reservationUUID" th:value="${reservation.id}">
							<td>
								<select onchange="this.form.submit()" name="stateValue"
									class="select select-xs w-full max-w-xs focus:outline-accent">
									<option value="0" th:selected="${reservation.state.value == 0}"
									th:text="#{reservation.status.not_taken}"></option>
									<option value="1" th:selected="${reservation.state.value == 1}" th:text="#{reservation.status.taken}">
									</option>
								</select>
							</td>
							<td>
								<input class="input input-sm w-full focus:outline-accent" type="number" name="newElectricityMeter"
									   th:value="${reservation.product.electricityMeter}" onchange="this.form.submit()">
							</td>
							<td>
								<input class="input input-sm w-full focus:outline-accent" type="number" name="newWaterMeter"
									   th:value="${reservation.product.waterMeter}" onchange="this.form.submit()">
							</td>
							
							
							<td th:text="${reservation.user.firstname}"></td>
							<td th:text="${reservation.user.lastname}"></td>
							<td th:text="${reservation.product.name}"></td>
							<td th:text="${reservation.begin}"></td>
							<td th:text="${reservation.end}"></td>
							<td th:text="${reservation.price}"></td>
						</form>
					</tr>
				</tbody>
			</table>
		</div>
	</main>
</body>

</html>